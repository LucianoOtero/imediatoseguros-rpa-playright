# Diretivas do Projeto - Imediato Seguros RPA

## üö® REGRAS CR√çTICAS - SEMPRE RESPEITAR

### üö® REGRA CR√çTICA #0: Investiga√ß√£o vs Implementa√ß√£o (VIOLA√á√ÉO MAIS COMUM)
- ‚ö†Ô∏è **VIOLA√á√ÉO MAIS COMUM:** Modificar c√≥digo ap√≥s comandos de investiga√ß√£o
- ‚úÖ **COMANDOS DE INVESTIGA√á√ÉO** ("verifique", "analise", "investigue", "explique", "como funciona") ‚Üí **APENAS investigar e documentar**
- ‚ùå **NUNCA modificar c√≥digo** ap√≥s comandos de investiga√ß√£o sem autoriza√ß√£o expl√≠cita
- ‚úÖ **COMANDOS DE IMPLEMENTA√á√ÉO** ("corrija", "implemente", "fa√ßa", "adicione") ‚Üí Investigar + implementar
- ‚ö†Ô∏è **ANTES DE MODIFICAR QUALQUER ARQUIVO:** Verificar se comando √© de investiga√ß√£o ou implementa√ß√£o
- üö® **CHECKLIST OBRIGAT√ìRIO ANTES DE QUALQUER MODIFICA√á√ÉO:**
  1. [ ] O comando cont√©m palavra de investiga√ß√£o ("verifique", "analise", "investigue")?
  2. [ ] Se SIM ‚Üí **PARAR** - apenas investigar e documentar, N√ÉO modificar c√≥digo
  3. [ ] O comando cont√©m palavra de implementa√ß√£o ("corrija", "implemente", "adicione")?
  4. [ ] Se SIM ‚Üí Continuar com implementa√ß√£o
  5. [ ] Se houver d√∫vida ‚Üí **PERGUNTAR** antes de modificar
- üö® **SE HOUVER D√öVIDA:** Sempre perguntar antes de modificar

### 1. Autoriza√ß√£o Pr√©via para Modifica√ß√µes
- ‚ùå **NUNCA modificar** c√≥digo fora da implementa√ß√£o autorizada de um projeto
- ‚úÖ **SEMPRE perguntar** antes de iniciar um projeto: "Posso iniciar o projeto X agora?"
- ‚úÖ Aguardar autoriza√ß√£o expl√≠cita antes de iniciar o projeto
- ‚úÖ **Dentro de um projeto autorizado:** N√£o √© necess√°rio pedir autoriza√ß√£o para cada arquivo individual
- ‚ö†Ô∏è **Projetos isolados:** Sempre perguntar antes de modificar arquivos fora de projetos autorizados
- üö® **CR√çTICO - INTERPRETA√á√ÉO DE COMANDOS:**
  - ‚ö†Ô∏è **"Fa√ßa um projeto"** ou **"Crie um projeto"** = Criar documento do projeto, apresentar ao usu√°rio, e AGUARDAR autoriza√ß√£o para executar
  - ‚ùå **N√ÉO significa:** Criar E executar imediatamente
  - ‚úÖ **Significa:** Criar documento ‚Üí Apresentar ‚Üí Perguntar "Posso iniciar o projeto X agora?" ‚Üí Aguardar autoriza√ß√£o ‚Üí Executar
  - üö® **PROCESSO OBRIGAT√ìRIO para "fa√ßa um projeto":**
    1. Criar documento do projeto em `05-DOCUMENTATION/`
    2. Apresentar projeto ao usu√°rio (resumo das fases, objetivos, arquivos envolvidos)
    3. Perguntar explicitamente: "Posso iniciar o projeto X agora?"
    4. Aguardar autoriza√ß√£o expl√≠cita do usu√°rio
    5. Somente ent√£o executar o projeto
  - ‚ö†Ô∏è **EXCE√á√ÉO:** Se o comando for explicitamente "execute o projeto X" ou "implemente o projeto X", pode executar imediatamente (mas ainda deve apresentar o projeto primeiro se n√£o foi apresentado antes)

### 2. Modifica√ß√£o de Arquivos JavaScript
- ‚ùå **NUNCA modificar** arquivos `.js` diretamente no servidor
- ‚úÖ **SEMPRE modificar** arquivos `.js` localmente em `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/`
- ‚úÖ Fazer deploy via scripts ou comandos autorizados ap√≥s modifica√ß√£o local
- ‚úÖ **OBRIGAT√ìRIO:** Ap√≥s copiar arquivo para servidor, sempre verificar integridade comparando hash (MD5/SHA256)
- ‚úÖ **OBRIGAT√ìRIO:** Comparar hashes ignorando diferen√ßas de mai√∫sculas/min√∫sculas (case-insensitive)
- ‚úÖ **OBRIGAT√ìRIO:** Sempre usar caminho completo do workspace ao copiar arquivos (n√£o usar caminhos relativos que podem falhar)
- üö® **OBRIGAT√ìRIO - CACHE CLOUDFLARE:** Ap√≥s atualizar arquivo `.js` no servidor, **SEMPRE avisar** ao usu√°rio sobre a necessidade de limpar o cache do Cloudflare para que as altera√ß√µes sejam refletidas imediatamente

### 3. Modifica√ß√£o de Arquivos PHP
- ‚ùå **NUNCA modificar** arquivos `.php` diretamente no servidor
- ‚úÖ **SEMPRE modificar** arquivos `.php` localmente em `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/` primeiro
- ‚úÖ **SEMPRE criar backup** do arquivo original antes de modificar
- ‚úÖ Fazer deploy via scripts ou comandos autorizados ap√≥s modifica√ß√£o local e backup
- ‚úÖ **OBRIGAT√ìRIO:** Ap√≥s copiar arquivo para servidor, sempre verificar integridade comparando hash (MD5/SHA256)
- ‚úÖ **OBRIGAT√ìRIO:** Comparar hashes ignorando diferen√ßas de mai√∫sculas/min√∫sculas (case-insensitive)
- ‚úÖ **OBRIGAT√ìRIO:** Sempre usar caminho completo do workspace ao copiar arquivos (n√£o usar caminhos relativos que podem falhar)
- üö® **OBRIGAT√ìRIO - CACHE CLOUDFLARE:** Ap√≥s atualizar arquivo `.php` no servidor, **SEMPRE avisar** ao usu√°rio sobre a necessidade de limpar o cache do Cloudflare para que as altera√ß√µes sejam refletidas imediatamente
- ‚ùå **NUNCA modificar** configura√ß√µes do Nginx e PHP quando est√£o funcionando
- ‚ö†Ô∏è Sempre confirmar antes de modificar configura√ß√µes de infraestrutura

### 4. Servidores com Acesso SSH
- ‚ùå **NUNCA modificar ou criar** arquivos diretamente em servidores com acesso SSH
- ‚úÖ **SEMPRE criar** arquivos localmente no Windows primeiro
- ‚úÖ **SEMPRE criar backup** antes de qualquer modifica√ß√£o
- ‚úÖ **SEMPRE copiar** arquivos do Windows para o servidor (via scp, scripts de deploy, etc.)
- ‚ùå **SEM EXCE√á√ïES** - Nunca modificar diretamente no servidor, mesmo quando autorizado

### 5. Arquivos de Configura√ß√£o de Servidor
- ‚ùå **NUNCA criar** arquivos de configura√ß√£o (Nginx, PHP-FPM, systemd, etc.) diretamente no servidor
- ‚úÖ **SEMPRE criar** arquivos de configura√ß√£o localmente primeiro
- ‚úÖ **SEMPRE criar** em diret√≥rio espec√≠fico: `WEBFLOW-SEGUROSIMEDIATO/06-SERVER-CONFIG/`
- ‚úÖ **SEMPRE copiar** para o servidor via SCP ap√≥s cria√ß√£o local
- üìÅ **Diret√≥rio de configura√ß√£o:** `WEBFLOW-SEGUROSIMEDIATO/06-SERVER-CONFIG/`
  - Arquivos Nginx: `nginx_*.conf`
  - Arquivos PHP-FPM: `php-fpm_*.conf`
  - Arquivos systemd: `*.service`
  - Scripts de configura√ß√£o: `*.sh`
- ‚ùå **NUNCA usar** heredoc ou comandos inline complexos para criar arquivos no servidor
- ‚úÖ **SEMPRE usar** arquivo local + SCP para transferir configura√ß√µes
- üö® **OBRIGAT√ìRIO - VERIFICA√á√ÉO ANTES DE MODIFICAR:**
  - ‚úÖ **ANTES de modificar** qualquer arquivo de configura√ß√£o local que ser√° copiado para o servidor
  - ‚úÖ **SEMPRE verificar** se o arquivo local √© id√™ntico ao arquivo no servidor
  - ‚úÖ **SEMPRE comparar hash** (SHA256, case-insensitive) antes de modificar arquivo local
  - ‚úÖ **Se arquivos forem diferentes:** Baixar arquivo do servidor primeiro, depois modificar
  - ‚úÖ **Se arquivos forem id√™nticos:** Pode modificar arquivo local com seguran√ßa
  - ‚úÖ **Processo obrigat√≥rio:**
    1. Baixar arquivo do servidor para local (se n√£o existir localmente)
    2. Comparar hash do arquivo local com hash do arquivo no servidor
    3. Se diferentes ‚Üí Atualizar arquivo local com vers√£o do servidor primeiro
    4. Se id√™nticos ‚Üí Modificar arquivo local
    5. Copiar arquivo modificado para servidor
    6. Verificar hash ap√≥s c√≥pia

### 6. Organiza√ß√£o de Arquivos no Diret√≥rio DEV
- ‚ùå **NUNCA criar** arquivos novos diretamente no raiz de `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/`
- ‚úÖ **SEMPRE criar** novos arquivos nos diret√≥rios apropriados:
  - üìÅ **Documenta√ß√£o:** `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/`
  - üìÅ **Backups:** `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/backups/` ou `WEBFLOW-SEGUROSIMEDIATO/04-BACKUPS/`
  - üìÅ **Testes:** `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/TMP/` (arquivos tempor√°rios de teste)
  - üìÅ **Configura√ß√£o de Servidor:** `WEBFLOW-SEGUROSIMEDIATO/06-SERVER-CONFIG/`
  - üìÅ **Scripts de Deploy:** `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/` (apenas scripts essenciais de deploy)
- ‚úÖ **Arquivos do projeto** (JavaScript, PHP principais) devem permanecer no raiz de `02-DEVELOPMENT/`
- ‚úÖ **Arquivos auxiliares** (testes, documenta√ß√£o, backups) devem estar em subdiret√≥rios apropriados

### 7. Comandos de Parada
- üõë Quando o usu√°rio disser "Pare", "N√£o pode fazer isso" ou similar, **PARAR IMEDIATAMENTE**
- üõë N√£o continuar com a a√ß√£o que foi rejeitada
- üõë Aguardar novas instru√ß√µes antes de prosseguir

### 8. Consulta de Documenta√ß√£o para Erros de Ambiente (OBRIGAT√ìRIA)
- üö® **REGRA CR√çTICA:** Antes de tentar corrigir QUALQUER erro relacionado a ambiente, servidor, Linux, Nginx, PHP, MySQL/MariaDB, SQL, ou infraestrutura, **SEMPRE consultar a documenta√ß√£o primeiro**
- ‚úÖ **PROCESSO OBRIGAT√ìRIO ao detectar erro de ambiente:**
  1. **PARAR** imediatamente qualquer tentativa de corre√ß√£o
  2. **CONSULTAR documenta√ß√£o oficial:**
     - Documenta√ß√£o do projeto em `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/`
     - Documenta√ß√£o oficial do componente (Nginx, PHP, MySQL/MariaDB, Linux)
     - Blogs e tutoriais relevantes sobre o erro espec√≠fico
     - Hist√≥rico de problemas similares no projeto
  3. **IDENTIFICAR causa raiz** baseado na documenta√ß√£o consultada
  4. **PROPOR solu√ß√£o** fundamentada na documenta√ß√£o antes de implementar
  5. **SOMENTE AP√ìS** consultar documenta√ß√£o, prosseguir com corre√ß√£o
- ‚úÖ **Componentes que exigem consulta de documenta√ß√£o:**
  - Linux (sistema operacional, permiss√µes, servi√ßos, systemd)
  - Nginx (configura√ß√£o, location blocks, fastcgi, SSL)
  - PHP/PHP-FPM (configura√ß√£o, vari√°veis de ambiente, extens√µes)
  - MySQL/MariaDB (autentica√ß√£o, usu√°rios, permiss√µes, conex√µes)
  - SQL (sintaxe, comandos, usu√°rios, senhas)
  - Servidores (SSH, SCP, permiss√µes, diret√≥rios)
  - Infraestrutura (rede, firewall, DNS, certificados SSL)
- ‚ùå **NUNCA** tentar corrigir erros de ambiente sem consultar documenta√ß√£o primeiro
- ‚ùå **NUNCA** usar tentativa-e-erro para problemas de ambiente
- ‚ö†Ô∏è **Se documenta√ß√£o n√£o for encontrada:** Informar ao usu√°rio e perguntar antes de prosseguir
- ‚úÖ **Documentar consulta:** Registrar quais documenta√ß√µes foram consultadas e quais solu√ß√µes foram identificadas
- üìÅ **Documenta√ß√£o do projeto:** `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/`
  - Arquivos de arquitetura: `ARQUITETURA_*.md`
  - Documenta√ß√£o de servidores: `ARQUITETURA_SERVIDORES.md`
  - Guias de configura√ß√£o: `GUIA_*.md`
  - Relat√≥rios de problemas: `STATUS_*.md`, `ANALISE_*.md`
- üîç **Fontes de documenta√ß√£o externa:**
  - Documenta√ß√£o oficial do Nginx: https://nginx.org/en/docs/
  - Documenta√ß√£o oficial do PHP: https://www.php.net/docs.php
  - Documenta√ß√£o oficial do MariaDB: https://mariadb.com/kb/en/documentation/
  - Documenta√ß√£o oficial do MySQL: https://dev.mysql.com/doc/
  - Tutoriais e blogs relevantes sobre o erro espec√≠fico

### 9. Ambiente Padr√£o de Trabalho
- ‚úÖ **PADR√ÉO:** Sempre trabalhar apenas no ambiente de **DESENVOLVIMENTO** (DEV)
- ‚úÖ **Diret√≥rio padr√£o:** `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/`
- ‚úÖ **Servidor padr√£o:** `dev.bssegurosimediato.com.br` (IP: 65.108.156.14)
- ‚úÖ **Deploy padr√£o:** Apenas para `/var/www/html/dev/root/` no servidor DEV
- üö® **PRODU√á√ÉO - PROCEDIMENTO N√ÉO DEFINIDO:**
  - ‚ö†Ô∏è **STATUS:** O procedimento para atualizar o ambiente de produ√ß√£o **ser√° definido posteriormente**
  - üö® **VALIDA√á√ÉO AUTOM√ÅTICA OBRIGAT√ìRIA:**
    - ‚úÖ **ANTES de executar QUALQUER comando:** Verificar arquivo `.env.production_access`
    - ‚úÖ **Se `PRODUCTION_ACCESS=DISABLED`:** BLOQUEAR automaticamente e emitir alerta
    - ‚úÖ **Se `PRODUCTION_ACCESS=ENABLED`:** Permitir ap√≥s valida√ß√£o adicional (verificar autoriza√ß√£o, backup, etc.)
    - ‚úÖ **Se `PRODUCTION_ACCESS=READ_ONLY`:** Permitir apenas comandos de leitura/investiga√ß√£o
  - üö® **DETEC√á√ÉO AUTOM√ÅTICA OBRIGAT√ìRIA:**
    - ‚úÖ **Padr√µes a detectar:** IP `157.180.36.223`, dom√≠nio `prod.bssegurosimediato.com.br`, caminho `/var/www/html/prod/root`
    - ‚úÖ **Comandos a bloquear:** `ssh root@157.180.36.223`, `scp ... root@157.180.36.223:...`, qualquer comando com `/var/www/html/prod/root/`
    - ‚úÖ **A√ß√£o quando detectado:** BLOQUEAR automaticamente se `PRODUCTION_ACCESS=DISABLED`, emitir alerta obrigat√≥rio
  - üö® **ALERTA OBRIGAT√ìRIO:** Sempre emitir alerta quando detectar tentativa de acesso ao servidor de produ√ß√£o
  - üö® **ALERTA OBRIGAT√ìRIO:** Sempre emitir alerta quando detectar refer√™ncias a IP `157.180.36.223` ou dom√≠nio `prod.bssegurosimediato.com.br`
  - üö® **ALERTA OBRIGAT√ìRIO:** Sempre emitir alerta quando detectar comandos SSH para servidor de produ√ß√£o
  - üö® **ALERTA OBRIGAT√ìRIO:** Sempre emitir alerta quando detectar modifica√ß√µes em `/var/www/html/prod/root/`
  - ‚ùå **BLOQUEIO:** N√£o executar comandos ou modifica√ß√µes em produ√ß√£o at√© que procedimento seja oficialmente definido E arquivo `.env.production_access` tenha `PRODUCTION_ACCESS=ENABLED`
  - ‚ö†Ô∏è **EXCE√á√ÉO FUTURA:** Ap√≥s defini√ß√£o oficial do procedimento, modificar produ√ß√£o apenas quando houver instru√ß√£o **EXPL√çCITA** do usu√°rio E `PRODUCTION_ACCESS=ENABLED`
- ‚úÖ **Documenta√ß√£o:** Projetos devem especificar claramente se s√£o DEV ou PROD
- ‚úÖ **Backups:** Backups devem ser criados localmente em `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/backups/` ou `WEBFLOW-SEGUROSIMEDIATO/04-BACKUPS/`

---

## üìã DIRETIVAS DE IMPLEMENTA√á√ÉO

### Vari√°veis de Ambiente
- ‚úÖ **SEMPRE usar** vari√°veis de ambiente do Docker (`APP_BASE_DIR`, `APP_BASE_URL`, etc.)
- ‚úÖ **SEMPRE usar** vari√°veis de sistema diretamente via `$_ENV` no PHP
- ‚ùå **N√ÉO criar** sistemas de configura√ß√£o complexos (`window.APP_CONFIG`, objetos de configura√ß√£o)
- ‚úÖ Usar vari√°veis globais simples quando necess√°rio (`window.APP_BASE_URL`, `window.APP_ENVIRONMENT`)

### Estrutura de Arquivos
- ‚úÖ Arquivos `.js` e `.php` devem estar no mesmo diret√≥rio raiz
- ‚úÖ Acess√≠veis via `https://dev.bssegurosimediato.com.br/` (dev) ou `https://bssegurosimediato.com.br/` (prod)
- ‚úÖ Modifica√ß√µes sempre come√ßam localmente em `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/`
- ‚úÖ Arquivos de configura√ß√£o de servidor em `WEBFLOW-SEGUROSIMEDIATO/06-SERVER-CONFIG/`

### Fluxo de Trabalho
1. **Criar backup** do arquivo original (se existir)
2. **Modificar localmente** ‚Üí `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/`
3. **Testar localmente** (quando poss√≠vel)
4. **Deploy para servidor DEV** via scripts ou comandos autorizados (`dev.bssegurosimediato.com.br`)
   - ‚úÖ **OBRIGAT√ìRIO:** Usar caminho completo do workspace ao copiar arquivos
   - ‚úÖ **OBRIGAT√ìRIO:** Ap√≥s copiar, sempre comparar hash (MD5/SHA256) do arquivo origem e destino
   - ‚úÖ **OBRIGAT√ìRIO:** Comparar hashes ignorando diferen√ßas de mai√∫sculas/min√∫sculas (case-insensitive)
   - ‚úÖ **OBRIGAT√ìRIO:** Confirmar que hash coincide antes de considerar deploy conclu√≠do
5. **Verificar funcionamento** no servidor DEV
6. üö® **OBRIGAT√ìRIO - CACHE CLOUDFLARE:** Ap√≥s atualizar arquivos `.js` ou `.php` no servidor, **SEMPRE avisar** ao usu√°rio sobre a necessidade de limpar o cache do Cloudflare para que as altera√ß√µes sejam refletidas imediatamente
7. **OBRIGAT√ìRIO: Realizar auditoria p√≥s-implementa√ß√£o** (ver se√ß√£o "Auditoria P√≥s-Implementa√ß√£o")
8. üö® **OBRIGAT√ìRIO: Atualizar documento de tracking** (`ALTERACOES_DESDE_ULTIMA_REPLICACAO_PROD_YYYYMMDD.md`) ap√≥s deploy em DEV (ver se√ß√£o "Tracking de Altera√ß√µes para Replica√ß√£o em Produ√ß√£o")
- üö® **PRODU√á√ÉO:** 
  - ‚ö†Ô∏è **ALERTA:** Procedimento para produ√ß√£o ser√° definido posteriormente
  - üö® **BLOQUEAR** qualquer deploy ou modifica√ß√£o em produ√ß√£o at√© procedimento oficial
  - ‚ö†Ô∏è **EMITIR ALERTA** se detectar tentativa de acesso ou modifica√ß√£o em produ√ß√£o

### Fluxo de Trabalho para Corre√ß√£o de Erros em Arquivos .js e .php (OBRIGAT√ìRIO)
- üö® **REGRA CR√çTICA:** Quando erros s√£o detectados em arquivos `.js` ou `.php`, **SEMPRE seguir este processo sequencial obrigat√≥rio**
- ‚úÖ **PROCESSO OBRIGAT√ìRIO para corre√ß√£o de erros:**
  1. **FASE 1: Atualizar em Desenvolvimento (Local)**
     - ‚úÖ Modificar arquivo em `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/`
     - ‚úÖ Criar backup do arquivo original antes de modificar
     - ‚úÖ Aplicar corre√ß√£o no arquivo de desenvolvimento
  2. **FASE 2: Copiar de Desenvolvimento para Servidor de Desenvolvimento**
     - ‚úÖ Copiar arquivo de `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/` para servidor DEV
     - ‚úÖ Servidor DEV: `dev.bssegurosimediato.com.br` (IP: 65.108.156.14)
     - ‚úÖ Caminho no servidor: `/var/www/html/dev/root/`
     - ‚úÖ **OBRIGAT√ìRIO:** Verificar hash (SHA256) ap√≥s c√≥pia
     - ‚úÖ **OBRIGAT√ìRIO:** Usar caminho completo do workspace ao copiar
  3. **FASE 3: Testar em Desenvolvimento**
     - ‚úÖ Testar funcionalidade corrigida no ambiente DEV
     - ‚úÖ Verificar logs do servidor DEV
     - ‚úÖ Confirmar que corre√ß√£o resolve o problema
     - ‚úÖ **N√ÉO prosseguir para produ√ß√£o se teste em DEV falhar**
     - ‚ö†Ô∏è **Testes que requerem interven√ß√£o manual:**
       - ‚úÖ Se teste requer envio real de email, submiss√£o de formul√°rio, ou outra a√ß√£o manual
       - ‚úÖ Marcar fase como "PENDENTE TESTE MANUAL" no TODO
       - ‚úÖ Documentar claramente no relat√≥rio que teste requer interven√ß√£o manual
       - ‚úÖ **Pode prosseguir para FASE 4** se integridade do arquivo foi verificada (hash, sintaxe)
       - ‚úÖ **MAS** deve documentar que teste funcional completo ser√° realizado posteriormente
       - ‚ö†Ô∏è **Se teste pode ser automatizado:** Deve ser realizado antes de prosseguir
  4. **FASE 4: Atualizar de Desenvolvimento para Produ√ß√£o (Local)**
     - ‚úÖ **SOMENTE AP√ìS** confirma√ß√£o de sucesso em DEV
     - ‚úÖ Copiar arquivo corrigido de `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/` para `WEBFLOW-SEGUROSIMEDIATO/03-PRODUCTION/`
     - ‚úÖ Verificar que arquivo foi copiado corretamente
     - ‚úÖ Comparar hash dos arquivos DEV e PROD (devem ser id√™nticos ap√≥s c√≥pia)
  5. **FASE 5: Copiar de Produ√ß√£o para Servidor de Produ√ß√£o**
     - ‚úÖ **SOMENTE AP√ìS** arquivo estar em `WEBFLOW-SEGUROSIMEDIATO/03-PRODUCTION/`
     - ‚úÖ Copiar arquivo de `WEBFLOW-SEGUROSIMEDIATO/03-PRODUCTION/` para servidor PROD
     - ‚úÖ Servidor PROD: `prod.bssegurosimediato.com.br` (IP: 157.180.36.223)
     - ‚úÖ Caminho no servidor: `/var/www/html/prod/root/`
     - ‚úÖ **OBRIGAT√ìRIO:** Verificar hash (SHA256) ap√≥s c√≥pia
     - ‚úÖ **OBRIGAT√ìRIO:** Usar caminho completo do workspace ao copiar
  6. **FASE 6: Verifica√ß√£o Final**
     - ‚úÖ Testar funcionalidade corrigida no ambiente PROD
     - ‚úÖ Verificar logs do servidor PROD
     - ‚úÖ Confirmar que corre√ß√£o est√° funcionando em produ√ß√£o
     - üö® **OBRIGAT√ìRIO - CACHE CLOUDFLARE:** Avisar ao usu√°rio sobre necessidade de limpar cache do Cloudflare
- ‚ùå **NUNCA pular etapas** do processo sequencial
- ‚ùå **NUNCA copiar diretamente** de DEV para servidor PROD sem passar por PROD local
- ‚ùå **NUNCA atualizar produ√ß√£o** sem testar em desenvolvimento primeiro
- ‚úÖ **SEMPRE documentar** cada fase do processo de corre√ß√£o
- ‚úÖ **SEMPRE criar backup** antes de qualquer modifica√ß√£o
- ‚ö†Ô∏è **Se teste em DEV falhar:** Parar processo, corrigir em DEV, e repetir a partir da FASE 1

### Fluxo de Trabalho para Arquivos de Configura√ß√£o de Servidor
1. **Criar arquivo localmente** ‚Üí `WEBFLOW-SEGUROSIMEDIATO/06-SERVER-CONFIG/`
2. **Verificar sintaxe** (quando poss√≠vel: `nginx -t`, `php-fpm -t`, etc.)
3. **Copiar para servidor** via SCP: `scp arquivo.conf root@servidor:/caminho/destino/`
4. **Aplicar configura√ß√£o** no servidor (reload/restart do servi√ßo)
5. **Verificar funcionamento** no servidor

### Auditoria P√≥s-Implementa√ß√£o (OBRIGAT√ìRIA)
- ‚úÖ **SEMPRE realizar auditoria** ao final da implementa√ß√£o de qualquer projeto
- ‚úÖ **Framework de Auditoria:** Seguir metodologia definida em `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/AUDITORIA_PROJETOS_BOAS_PRATICAS.md`
  - üìã **Documento de Refer√™ncia:** `AUDITORIA_PROJETOS_BOAS_PRATICAS.md` (vers√£o 1.1.0)
  - ‚úÖ **Metodologia:** Baseada em PMI, ISO 21500, PRINCE2, Agile/Scrum, CMMI
  - ‚úÖ **Crit√©rios de Avalia√ß√£o:** Seguir todos os crit√©rios definidos no documento
  - üö® **CR√çTICO:** Verificar se existe se√ß√£o espec√≠fica para especifica√ß√µes do usu√°rio no documento do projeto (Se√ß√£o 2.3)
  - ‚úÖ **Checklist:** Seguir checklist completo definido no documento de auditoria
- ‚úÖ **Auditoria de C√≥digo:** Verificar todos os arquivos alterados em busca de:
  - Falhas de sintaxe (erros de digita√ß√£o, par√™nteses n√£o fechados, etc.)
  - Inconsist√™ncias l√≥gicas (vari√°veis n√£o definidas, fun√ß√µes n√£o chamadas, etc.)
  - Problemas de seguran√ßa (exposi√ß√£o de credenciais, valida√ß√£o de entrada, etc.)
  - Viola√ß√µes de padr√µes de c√≥digo (nomenclatura, estrutura, etc.)
  - Depend√™ncias quebradas (includes, requires, imports, etc.)
- ‚úÖ **Auditoria de Funcionalidade:** Comparar c√≥digo alterado com backup original para garantir:
  - Nenhuma funcionalidade n√£o prevista foi removida ou alterada
  - Todas as funcionalidades previstas foram implementadas corretamente
  - Nenhuma regra de neg√≥cio foi quebrada
  - Nenhuma integra√ß√£o foi afetada negativamente
- ‚úÖ **Verifica√ß√£o de Especifica√ß√µes do Usu√°rio (CR√çTICO):**
  - ‚úÖ Verificar se existe se√ß√£o espec√≠fica para especifica√ß√µes do usu√°rio no documento do projeto
  - ‚úÖ Verificar se especifica√ß√µes est√£o claramente documentadas
  - ‚úÖ Verificar se requisitos est√£o expl√≠citos e mensur√°veis
  - ‚úÖ Verificar se expectativas do usu√°rio est√£o alinhadas com escopo do projeto
  - ‚úÖ Verificar se crit√©rios de aceita√ß√£o do usu√°rio est√£o definidos
  - üìã **Refer√™ncia:** Ver se√ß√£o 2.3 de `AUDITORIA_PROJETOS_BOAS_PRATICAS.md` para checklist completo
- ‚úÖ **Documentar auditoria:** Criar relat√≥rio de auditoria formal em `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/`
  - Listar todos os arquivos auditados
  - Documentar problemas encontrados e corre√ß√µes aplicadas
  - Confirmar que nenhuma funcionalidade foi prejudicada
  - Registrar aprova√ß√£o da auditoria
  - üö® **OBRIGAT√ìRIO:** Criar documento espec√≠fico de auditoria (ex: `AUDITORIA_PROJETO_X.md`)
  - ‚ö†Ô∏è **N√ÉO basta** apenas verificar - deve ser documentado formalmente
  - ‚úÖ **Seguir template:** Usar estrutura definida em `AUDITORIA_PROJETOS_BOAS_PRATICAS.md`
- ‚úÖ **Corrigir problemas encontrados** antes de considerar o projeto conclu√≠do
- ‚ö†Ô∏è **N√ÉO considerar projeto conclu√≠do** sem auditoria completa e documentada

### Tracking de Altera√ß√µes para Replica√ß√£o em Produ√ß√£o (OBRIGAT√ìRIO)
- üö® **REGRA CR√çTICA:** Sempre que houver altera√ß√µes no ambiente de desenvolvimento (DEV), **SEMPRE atualizar** o documento de tracking de altera√ß√µes para facilitar a replica√ß√£o em produ√ß√£o
- ‚úÖ **PROCESSO OBRIGAT√ìRIO ao fazer altera√ß√µes em DEV:**
  1. **Identificar tipo de altera√ß√£o:**
     - C√≥digo PHP/JavaScript modificado
     - Configura√ß√µes PHP-FPM alteradas
     - Banco de dados modificado
     - Vari√°veis de ambiente adicionadas/modificadas
     - Projetos implementados
  2. **Atualizar documento de tracking:**
     - üìÅ **Documento Principal:** `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/ALTERACOES_DESDE_ULTIMA_REPLICACAO_PROD_YYYYMMDD.md`
     - ‚úÖ **SEMPRE atualizar** ap√≥s qualquer altera√ß√£o em DEV que precise ser replicada em PROD
     - ‚úÖ Registrar data, hora, tipo de altera√ß√£o, arquivos afetados
     - ‚úÖ Documentar configura√ß√µes alteradas (vari√°veis de ambiente, PHP-FPM, etc.)
     - ‚úÖ Registrar altera√ß√µes no banco de dados (se aplic√°vel)
     - ‚úÖ Atualizar checklist de replica√ß√£o para PROD
  3. **Categorias de altera√ß√µes a registrar:**
     - **C√≥digo PHP:** Listar arquivos modificados e resumo das altera√ß√µes
     - **C√≥digo JavaScript:** Listar arquivos modificados e resumo das altera√ß√µes
     - **Configura√ß√µes PHP-FPM:** Listar vari√°veis adicionadas/modificadas
     - **Banco de Dados:** Registrar scripts SQL executados e tabelas afetadas
     - **Projetos:** Referenciar documentos de projeto relacionados
  4. **Quando atualizar:**
     - ‚úÖ **AP√ìS deploy** de arquivos para servidor DEV
     - ‚úÖ **AP√ìS altera√ß√£o** de configura√ß√µes PHP-FPM em DEV
     - ‚úÖ **AP√ìS execu√ß√£o** de scripts SQL no banco DEV
     - ‚úÖ **AP√ìS conclus√£o** de projetos implementados em DEV
     - ‚úÖ **ANTES de replicar** em PROD (documento deve estar atualizado)
  5. **Estrutura do documento:**
     - Manter se√ß√µes por categoria (C√≥digo PHP, C√≥digo JavaScript, Configura√ß√µes, Banco de Dados, Projetos)
     - Incluir checklist de replica√ß√£o para PROD
     - Manter resumo executivo atualizado
     - Registrar prioridades (Cr√≠tico, Alto, M√©dio)
  6. **Documenta√ß√£o relacionada:**
     - Atualizar `HISTORICO_REPLICACAO_PRODUCAO.md` quando replica√ß√£o for realizada
     - Atualizar `TRACKING_ALTERACOES_BANCO_DADOS.md` para altera√ß√µes no banco
     - Referenciar documentos de projeto quando aplic√°vel
- ‚ùå **NUNCA fazer altera√ß√µes em DEV** sem atualizar o documento de tracking
- ‚úÖ **SEMPRE manter** o documento atualizado para facilitar replica√ß√£o em PROD
- üö® **OBRIGAT√ìRIO:** O documento deve estar sempre atualizado antes de qualquer replica√ß√£o para PROD
- üìã **Template do documento:** Usar estrutura definida em `ALTERACOES_DESDE_ULTIMA_REPLICACAO_PROD_20251121.md`

---

## üí¨ DIRETIVAS DE COMUNICA√á√ÉO

### Clareza e Objetividade
- Seja direto e objetivo nas respostas
- Evite verbosidade desnecess√°ria
- V√° direto ao ponto quando poss√≠vel

### Implementa√ß√£o vs Sugest√£o
- ‚úÖ **Implementar** mudan√ßas quando solicitado explicitamente, n√£o apenas sugerir
- ‚úÖ Usar as ferramentas dispon√≠veis para fazer as altera√ß√µes
- ‚ö†Ô∏è **CR√çTICO - DISTIN√á√ÉO OBRIGAT√ìRIA:** Distinguir entre comandos de investiga√ß√£o e comandos de implementa√ß√£o:
  - **Comandos de investiga√ß√£o** ("verifique", "analise", "investigue", "explique", "como funciona"): **APENAS investigar e documentar - NUNCA modificar c√≥digo**
  - **Comandos de implementa√ß√£o** ("corrija", "implemente", "fa√ßa", "execute", "adicione", "modifique"): Investigar + implementar
- ‚ö†Ô∏è **REGRA ABSOLUTA:** Se n√£o tiver certeza se deve implementar ou apenas investigar, **SEMPRE perguntar antes de implementar**
- üö® **CHECKLIST OBRIGAT√ìRIO ANTES DE MODIFICAR C√ìDIGO:**
  1. O usu√°rio pediu explicitamente para modificar/implementar/corrigir?
  2. Se o comando foi "verifique", "analise", "investigue" ‚Üí **PARAR** - apenas investigar
  3. Se o comando foi "corrija", "implemente", "fa√ßa" ‚Üí **CONTINUAR** - implementar
  4. Se houver d√∫vida ‚Üí **PERGUNTAR** antes de modificar

### Investiga√ß√£o Proativa
- ‚úÖ Consultar documenta√ß√£o e arquivos relevantes antes de responder
- ‚úÖ Buscar informa√ß√µes no c√≥digo antes de perguntar ao usu√°rio
- ‚úÖ Tentar resolver problemas sozinho quando poss√≠vel
- ‚ö†Ô∏è Se n√£o encontrar informa√ß√£o, informar claramente
- üö® **ESPECIALMENTE para erros de ambiente:** Sempre consultar documenta√ß√£o oficial e do projeto ANTES de tentar corrigir

### Interpreta√ß√£o de Comandos: Investigar vs Implementar
- üö® **CR√çTICO:** Esta √© uma das diretivas mais importantes - violar resulta em modifica√ß√µes n√£o autorizadas

- ‚úÖ **COMANDOS DE INVESTIGA√á√ÉO (NUNCA MODIFICAR C√ìDIGO):**
  - **Palavras-chave:** "verifique", "analise", "investigue", "explique", "como funciona", "por que", "identifique", "descubra"
  - **A√á√ÉO PERMITIDA:** Apenas investigar, analisar e documentar o problema
  - **A√á√ÉO PROIBIDA:** ‚ùå Corrigir c√≥digo ‚ùå Adicionar logs ‚ùå Modificar arquivos ‚ùå Implementar solu√ß√µes
  - **PROCESSO OBRIGAT√ìRIO:**
    1. Investigar o c√≥digo e identificar a causa raiz
    2. Criar documento de an√°lise explicando o problema em `05-DOCUMENTATION/`
    3. Apresentar an√°lise ao usu√°rio
    4. **AGUARDAR autoriza√ß√£o expl√≠cita** antes de qualquer modifica√ß√£o
    5. **NUNCA modificar c√≥digo** sem autoriza√ß√£o expl√≠cita ap√≥s investiga√ß√£o
  - **EXEMPLOS:**
    - ‚ùå "Analise porque X n√£o funciona" ‚Üí APENAS analisar, N√ÉO corrigir
    - ‚ùå "Verifique como funciona Y" ‚Üí APENAS verificar, N√ÉO modificar
    - ‚ùå "Investigue o problema Z" ‚Üí APENAS investigar, N√ÉO implementar

- ‚úÖ **COMANDOS DE IMPLEMENTA√á√ÉO (PODE MODIFICAR C√ìDIGO):**
  - **Palavras-chave:** "corrija", "implemente", "fa√ßa", "execute", "adicione", "modifique", "crie", "atualize"
  - **A√á√ÉO PERMITIDA:** Investigar + implementar solu√ß√£o
  - **PROCESSO OBRIGAT√ìRIO:**
    1. Investigar se necess√°rio para entender o problema
    2. Criar backup do arquivo original
    3. Implementar corre√ß√£o
    4. Fazer deploy (se aplic√°vel)
    5. Realizar auditoria p√≥s-implementa√ß√£o e documentar formalmente
  - **EXEMPLOS:**
    - ‚úÖ "Corrija o problema X" ‚Üí Investigar + corrigir
    - ‚úÖ "Implemente a funcionalidade Y" ‚Üí Investigar + implementar
    - ‚úÖ "Adicione logs de diagn√≥stico" ‚Üí Implementar logs
  - ‚ö†Ô∏è **EXCE√á√ÉO ESPECIAL - "Fa√ßa um projeto" ou "Crie um projeto":**
    - üö® **N√ÉO significa executar imediatamente**
    - ‚úÖ **Significa:** Criar documento do projeto ‚Üí Apresentar ‚Üí Perguntar autoriza√ß√£o ‚Üí Executar
    - üö® **Ver se√ß√£o "1. Autoriza√ß√£o Pr√©via para Modifica√ß√µes" para processo completo**

- ‚ö†Ô∏è **REGRA ABSOLUTA - SEM EXCE√á√ïES:**
  - **Quando houver d√∫vida entre investigar ou implementar:**
    - **SEMPRE preferir apenas investigar primeiro**
    - **SEMPRE aguardar autoriza√ß√£o expl√≠cita** antes de implementar
    - **SEMPRE perguntar:** "Deseja que eu corrija/implemente isso agora?" ap√≥s apresentar an√°lise
  - **ANTES DE MODIFICAR QUALQUER ARQUIVO:**
    - ‚úÖ Verificar se comando cont√©m palavra de implementa√ß√£o expl√≠cita
    - ‚úÖ Se comando cont√©m apenas palavras de investiga√ß√£o ‚Üí **PARAR** e apenas investigar
    - ‚úÖ Se houver d√∫vida ‚Üí **PERGUNTAR** antes de modificar

### Documenta√ß√£o
- ‚úÖ Documentar decis√µes importantes quando solicitado
- ‚úÖ Criar documentos de especifica√ß√£o quando necess√°rio
- ‚úÖ Manter hist√≥rico das decis√µes t√©cnicas

### Backups Locais
- ‚úÖ **SEMPRE incluir** backups locais dos arquivos em diret√≥rio espec√≠fico definido no projeto
- ‚úÖ Criar estrutura de backup antes de modificar arquivos importantes
- ‚úÖ Manter hist√≥rico de vers√µes dos arquivos modificados
- üìÅ Diret√≥rio padr√£o: `backups/` ou conforme definido no projeto espec√≠fico

### Registro de Conversas
- ‚úÖ **SEMPRE guardar** todas as conversas em arquivos individuais
- ‚úÖ Criar arquivo de conversa com nome descritivo e timestamp
- ‚úÖ Registrar no arquivo hist√≥rico de conversas:
  - Refer√™ncia √† conversa
  - Nome do arquivo criado
  - Timestamp da conversa
- üìÅ Formato sugerido: `CONVERSA_YYYYMMDD_HHMMSS.md` ou `CONVERSA_[TEMA]_YYYYMMDD.md`
- üìÅ Arquivo hist√≥rico: `HISTORICO_CONVERSAS.md` na raiz do projeto

---

## üîß DIRETIVAS T√âCNICAS ESPEC√çFICAS

### Resolu√ß√£o de Problemas de Ambiente (OBRIGAT√ìRIA)
- üö® **ANTES de qualquer corre√ß√£o de erro de ambiente, servidor, Linux, Nginx, PHP, MySQL/MariaDB, SQL:**
  1. ‚úÖ **CONSULTAR documenta√ß√£o do projeto** em `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/`
  2. ‚úÖ **CONSULTAR documenta√ß√£o oficial** do componente (Nginx, PHP, MySQL/MariaDB)
  3. ‚úÖ **CONSULTAR blogs e tutoriais** relevantes sobre o erro espec√≠fico
  4. ‚úÖ **IDENTIFICAR causa raiz** baseado na documenta√ß√£o
  5. ‚úÖ **PROPOR solu√ß√£o** fundamentada antes de implementar
- ‚ùå **NUNCA usar tentativa-e-erro** para problemas de ambiente
- ‚úÖ **SEMPRE documentar** quais documenta√ß√µes foram consultadas
- üìÅ **Documenta√ß√£o do projeto:** `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/`
- üîç **Fontes externas:** Documenta√ß√£o oficial, blogs, tutoriais relevantes

### Configura√ß√£o e Vari√°veis
- **PHP:** Usar `$_ENV['VARIAVEL']` para acessar vari√°veis de ambiente do Docker
- **JavaScript:** Usar vari√°veis globais simples expostas via `config_env.js.php` (se necess√°rio)
- **N√ÉO criar:** Objetos de configura√ß√£o complexos, sistemas centralizados de config

### Credenciais e Seguran√ßa
- ‚úÖ Credenciais devem estar em vari√°veis de ambiente do Docker
- ‚úÖ N√ÉO hardcodar credenciais em arquivos JavaScript ou PHP
- ‚úÖ Usar vari√°veis de ambiente separadas para dev e prod quando necess√°rio

### Ambientes
- **DEV:** `https://dev.bssegurosimediato.com.br` (IP: 65.108.156.14) - **AMBIENTE PADR√ÉO**
- **PROD:** `https://prod.bssegurosimediato.com.br` (IP: 157.180.36.223) - **üö® PROCEDIMENTO N√ÉO DEFINIDO**
- ‚úÖ **PADR√ÉO:** Sempre trabalhar em DEV, salvo instru√ß√£o espec√≠fica do usu√°rio
- ‚úÖ Sempre verificar qual ambiente est√° sendo usado antes de fazer altera√ß√µes
- üö® **PRODU√á√ÉO - ALERTAS OBRIGAT√ìRIOS:**
  - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar qualquer refer√™ncia ao servidor de produ√ß√£o
  - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar IP `157.180.36.223` em comandos ou scripts
  - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar dom√≠nio `prod.bssegurosimediato.com.br` em comandos ou scripts
  - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar caminho `/var/www/html/prod/root/` em comandos ou scripts
  - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar tentativa de SSH para servidor de produ√ß√£o
  - ‚ùå **BLOQUEAR** qualquer a√ß√£o em produ√ß√£o at√© que procedimento seja oficialmente definido
  - üìã **STATUS:** Procedimento para produ√ß√£o ser√° definido posteriormente

---

## ‚ö†Ô∏è AVISOS IMPORTANTES

1. **NUNCA modificar nada diretamente no servidor** - Sempre modificar primeiro no Windows com backup
2. **Backup √© OBRIGAT√ìRIO** - Sempre criar backup antes de qualquer modifica√ß√£o
3. **Nginx e PHP:** N√£o modificar quando est√£o funcionando, a menos que explicitamente autorizado
4. **JavaScript no Servidor:** NUNCA modificar diretamente, sempre modificar localmente primeiro
5. **PHP no Servidor:** NUNCA modificar diretamente, sempre modificar localmente primeiro com backup
6. **Arquivos de Configura√ß√£o:** NUNCA criar diretamente no servidor - SEMPRE criar localmente em `06-SERVER-CONFIG/` e copiar via SCP
7. **Sistemas Complexos:** Evitar criar sistemas de configura√ß√£o complexos, preferir solu√ß√µes simples
8. **Vari√°veis de Ambiente:** Sempre usar vari√°veis do Docker, n√£o criar sistemas alternativos
9. **Heredoc no SSH:** NUNCA usar heredoc complexo via SSH - SEMPRE criar arquivo local e copiar
10. **üö® CACHE CLOUDFLARE - OBRIGAT√ìRIO:** Ap√≥s atualizar arquivos `.js` ou `.php` no servidor, **SEMPRE avisar** ao usu√°rio sobre a necessidade de limpar o cache do Cloudflare. O Cloudflare pode manter vers√µes antigas em cache, causando erros como uso de credenciais antigas, c√≥digo desatualizado, etc. Avisar explicitamente: "‚ö†Ô∏è **IMPORTANTE:** Ap√≥s atualizar arquivos no servidor, √© necess√°rio limpar o cache do Cloudflare para que as altera√ß√µes sejam refletidas imediatamente."
11. **üö® PRODU√á√ÉO - PROCEDIMENTO N√ÉO DEFINIDO:**
    - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar qualquer tentativa de acesso ou modifica√ß√£o no servidor de produ√ß√£o
    - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar IP `157.180.36.223` ou dom√≠nio `prod.bssegurosimediato.com.br`
    - ‚ö†Ô∏è **EMITIR ALERTA** ao detectar caminho `/var/www/html/prod/root/`
    - ‚ùå **BLOQUEAR** qualquer a√ß√£o em produ√ß√£o at√© que procedimento seja oficialmente definido
    - üìã Procedimento para produ√ß√£o ser√° definido posteriormente

---

## üìù NOTAS

- Estas diretivas foram coletadas do hist√≥rico de conversas e decis√µes do projeto
- Quando houver conflito entre diretivas, priorizar as regras cr√≠ticas (se√ß√£o 1)
- Em caso de d√∫vida, perguntar ao usu√°rio antes de prosseguir
- As diretivas de autoriza√ß√£o pr√©via e backups s√£o **obrigat√≥rias** e devem ser seguidas sempre

---

## üìã EXEMPLO DE FLUXO CORRETO

### Antes de Iniciar um Projeto:
1. ‚úÖ **CRIAR documento do projeto** em `05-DOCUMENTATION/` (se ainda n√£o existir)
2. ‚úÖ **APRESENTAR projeto ao usu√°rio** (resumo das fases, objetivos, arquivos envolvidos)
3. ‚úÖ **PERGUNTAR:** "Posso iniciar o projeto X agora?"
4. ‚úÖ **AGUARDAR autoriza√ß√£o expl√≠cita** do usu√°rio
5. ‚úÖ **SOMENTE ent√£o** iniciar execu√ß√£o do projeto
6. ‚úÖ Dentro do projeto autorizado: Modificar arquivos sem pedir autoriza√ß√£o individual
7. ‚úÖ **OBRIGAT√ìRIO:** Criar backups locais dos arquivos que ser√£o modificados ANTES de qualquer altera√ß√£o
8. ‚úÖ Criar arquivos localmente (n√£o no servidor)
9. ‚úÖ Copiar para servidor apenas ap√≥s cria√ß√£o local e verifica√ß√£o
10. ‚úÖ Registrar conversa e atualizar hist√≥rico
11. ‚úÖ **OBRIGAT√ìRIO:** Realizar auditoria p√≥s-implementa√ß√£o e documentar formalmente

### Para Modifica√ß√µes Isoladas (fora de projeto):
1. ‚úÖ Perguntar: "Posso modificar o arquivo X agora?"
2. ‚úÖ Aguardar autoriza√ß√£o expl√≠cita
3. ‚úÖ **OBRIGAT√ìRIO:** Criar backup local do arquivo original ANTES de modificar
4. ‚úÖ Modificar arquivo localmente (nunca no servidor)
5. üö® **ALERTA:** Se detectar refer√™ncia a produ√ß√£o, emitir alerta e bloquear a√ß√£o

### Para Comandos de Investiga√ß√£o ("verifique porque", "analise", "investigue", "explique", "como funciona"):
1. ‚úÖ **APENAS investigar** o problema (n√£o corrigir automaticamente)
2. ‚úÖ Identificar causa raiz do problema
3. ‚úÖ Criar documento de an√°lise em `05-DOCUMENTATION/`
4. ‚úÖ Apresentar an√°lise ao usu√°rio
5. ‚úÖ **AGUARDAR autoriza√ß√£o expl√≠cita** antes de corrigir
6. üö® **PROIBI√á√ÉO ABSOLUTA:** ‚ùå **N√ÉO corrigir** ‚ùå **N√ÉO adicionar logs** ‚ùå **N√ÉO modificar arquivos** ‚ùå **N√ÉO implementar solu√ß√µes** sem autoriza√ß√£o expl√≠cita ap√≥s investiga√ß√£o
7. ‚ö†Ô∏è **CHECKLIST ANTES DE QUALQUER MODIFICA√á√ÉO:**
   - [ ] O usu√°rio pediu explicitamente para modificar/implementar/corrigir?
   - [ ] O comando cont√©m palavra de implementa√ß√£o ("corrija", "implemente", "adicione")?
   - [ ] Se N√ÉO ‚Üí **PARAR** e apenas apresentar an√°lise
   - [ ] Se SIM ‚Üí Continuar com implementa√ß√£o

### Para Tentativas de Acesso a Produ√ß√£o:
1. üö® **EMITIR ALERTA IMEDIATO:** "‚ö†Ô∏è ALERTA: Detectada tentativa de acesso ao servidor de produ√ß√£o"
2. üö® **INFORMAR:** "O procedimento para produ√ß√£o ser√° definido posteriormente"
3. üö® **BLOQUEAR:** N√£o executar comando ou a√ß√£o at√© procedimento oficial
4. ‚úÖ **SUGERIR:** Trabalhar apenas no ambiente DEV (`dev.bssegurosimediato.com.br`)

### Ap√≥s Modifica√ß√£o:
1. ‚úÖ Salvar conversa em arquivo individual
2. ‚úÖ Atualizar `HISTORICO_CONVERSAS.md` com refer√™ncia e timestamp
3. ‚úÖ Manter backup do arquivo original
4. ‚úÖ **OBRIGAT√ìRIO:** Realizar auditoria p√≥s-implementa√ß√£o (ver se√ß√£o "Auditoria P√≥s-Implementa√ß√£o")
5. ‚úÖ **OBRIGAT√ìRIO:** Seguir metodologia definida em `WEBFLOW-SEGUROSIMEDIATO/05-DOCUMENTATION/AUDITORIA_PROJETOS_BOAS_PRATICAS.md`
6. ‚úÖ **OBRIGAT√ìRIO:** Criar documento formal de auditoria em `05-DOCUMENTATION/` (ex: `AUDITORIA_PROJETO_X.md`)
7. ‚úÖ **OBRIGAT√ìRIO:** Documentar todos os arquivos auditados, problemas encontrados, e confirma√ß√£o de que nenhuma funcionalidade foi prejudicada
8. ‚úÖ **OBRIGAT√ìRIO:** Verificar especifica√ß√µes do usu√°rio conforme se√ß√£o 2.3 do documento de auditoria
9. ‚úÖ **OBRIGAT√ìRIO:** Atualizar documento de tracking de altera√ß√µes (`ALTERACOES_DESDE_ULTIMA_REPLICACAO_PROD_YYYYMMDD.md`) se altera√ß√µes foram feitas em DEV (ver se√ß√£o "Tracking de Altera√ß√µes para Replica√ß√£o em Produ√ß√£o")

### Processo de C√≥pia para Servidor (OBRIGAT√ìRIO):
1. ‚úÖ **SEMPRE usar caminho completo do workspace** ao copiar arquivos
   - ‚úÖ Usar caminho absoluto completo do workspace
   - ‚úÖ Ou usar `cd` para o diret√≥rio do workspace antes de copiar
   - ‚ùå N√ÉO usar caminhos relativos que podem falhar (ex: `WEBFLOW-SEGUROSIMEDIATO/02-DEVELOPMENT/arquivo.js`)
   - ‚úÖ Exemplo correto: `cd "C:\Users\Luciano\OneDrive - Imediato Solu√ß√µes em Seguros\Imediato\imediatoseguros-rpa-playwright" && scp "WEBFLOW-SEGUROSIMEDIATO\02-DEVELOPMENT\arquivo.js" root@servidor:/destino/`
2. ‚úÖ **SEMPRE criar backup no servidor** antes de copiar arquivo novo
   - ‚úÖ Criar backup com timestamp: `arquivo.js.backup_YYYYMMDD_HHMMSS`
3. ‚úÖ **SEMPRE comparar hash ap√≥s c√≥pia** para garantir integridade:
   - ‚úÖ Calcular hash do arquivo local (SHA256 recomendado)
   - ‚úÖ Calcular hash do arquivo no servidor ap√≥s c√≥pia
   - ‚úÖ Comparar hashes **ignorando diferen√ßas de mai√∫sculas/min√∫sculas** (case-insensitive)
   - ‚úÖ Se hashes n√£o coincidirem, tentar copiar novamente
   - ‚úÖ Documentar hash comparado no log da opera√ß√£o
   - ‚úÖ **NUNCA considerar deploy conclu√≠do** sem verifica√ß√£o de hash bem-sucedida
4. ‚úÖ **Exemplo de verifica√ß√£o de hash (case-insensitive):**
   ```powershell
   # Local (Windows PowerShell)
   $hashLocal = (Get-FileHash -Path "arquivo.js" -Algorithm SHA256).Hash.ToUpper()
   
   # Servidor (via SSH) - converter para mai√∫sculas para compara√ß√£o
   $hashServidor = (ssh root@servidor "sha256sum /var/www/html/dev/root/arquivo.js | cut -d' ' -f1").ToUpper()
   
   # Comparar ignorando mai√∫sculas/min√∫sculas (ambos convertidos para mai√∫sculas)
   if ($hashLocal -eq $hashServidor) {
       Write-Host "‚úÖ Hash coincide - arquivo copiado corretamente"
   } else {
       Write-Host "‚ùå Hash n√£o coincide - tentar copiar novamente"
       Write-Host "Local:    $hashLocal"
       Write-Host "Servidor: $hashServidor"
   }
   ```
   - ‚ö†Ô∏è **IMPORTANTE:** Sempre converter ambos os hashes para o mesmo case (mai√∫sculas ou min√∫sculas) antes de comparar
   - ‚úÖ **Recomendado:** Converter ambos para mai√∫sculas usando `.ToUpper()` para compara√ß√£o consistente
5. ‚úÖ **Checklist obrigat√≥rio antes de considerar deploy conclu√≠do:**
   - [ ] Backup criado no servidor?
   - [ ] Arquivo copiado para servidor?
   - [ ] Hash local calculado?
   - [ ] Hash do servidor calculado?
   - [ ] Hashes coincidem?
   - [ ] Se n√£o coincidem, tentar copiar novamente
   - [ ] Deploy s√≥ conclu√≠do ap√≥s hash confirmado

