<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Teste Modal WhatsApp V2.0</title>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- jQuery Mask Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Titillium Web Font -->
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Titillium Web', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.2);
        }
        h1 {
            color: #003366;
            text-align: center;
            margin-bottom: 10px;
        }
        p {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .test-button {
            display: block;
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            padding: 16px 32px;
            background: linear-gradient(135deg, #0099CC 0%, #003366 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Titillium Web', sans-serif;
        }
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 51, 102, 0.3);
        }
        .info-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .info-box h3 {
            color: #003366;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Teste Modal WhatsApp V2.0</h1>
        <p>Modal aprimorado com debounce, feedback visual, seguran√ßa e acessibilidade.</p>
        
        <div class="info-box">
            <h3>üìã Como Testar:</h3>
            <ol>
                <li>Clique no bot√£o abaixo para abrir o modal</li>
                <li>Preencha os campos e observe a valida√ß√£o em tempo real</li>
                <li>Teste o bot√£o "PROSSEGUIR PARA O WHATSAPP" com dados v√°lidos e inv√°lidos</li>
                <li>Observe o feedback visual nos campos (mensagens de erro abaixo dos campos)</li>
            </ol>
        </div>
        
        <button id="whatsapplink" class="test-button">üöÄ Abrir Modal WhatsApp V2.0</button>
        
        <div class="info-box">
            <h3>‚úÖ Melhorias V2.0:</h3>
            <ul>
                <li>‚úì Debounce em valida√ß√µes para melhor performance</li>
                <li>‚úì Feedback visual (cores verde/vermelho nos campos)</li>
                <li>‚úì Preven√ß√£o de XSS com escape HTML</li>
                <li>‚úì ARIA attributes para acessibilidade</li>
                <li>‚úì Configura√ß√£o centralizada</li>
                <li>‚úì C√≥digo modular e manuten√≠vel</li>
                <li>‚úì DDD e Telefone na mesma linha</li>
                <li>‚úì CEP e Placa na mesma linha</li>
                <li>‚úì Bot√£o verde com √≠cone WhatsApp</li>
                <li>‚úì Foco no bot√£o ap√≥s erros de valida√ß√£o</li>
            </ul>
        </div>
    </div>
    
    <!-- Mock das fun√ß√µes de valida√ß√£o para teste local -->
    <script>
        function onlyDigits(str) { return (str || '').replace(/\D+/g, ''); }
        function showLoading(txt) { console.log('‚è≥', txt); }
        function hideLoading() { console.log('‚úÖ'); }
        function saWarnConfirmCancel(opts) { return Swal.fire({icon:'warning',showCancelButton:true,confirmButtonText:'Corrigir',cancelButtonText:'N√£o',reverseButtons:true,allowOutsideClick:false,allowEscapeKey:true,...opts}); }
        function saInfoConfirmCancel(opts) { return Swal.fire({icon:'info',showCancelButton:true,confirmButtonText:'Prosseguir assim mesmo',cancelButtonText:'Corrigir',reverseButtons:true,allowOutsideClick:false,allowEscapeKey:true,...opts}); }
        function validarCPFAlgoritmo(cpf) { const cpfLimpo = onlyDigits(cpf); return cpfLimpo.length === 11 && cpfLimpo !== '00000000000'; }
        function validarCPFApi(cpf) { console.log('üîç Validando CPF:', cpf); return Promise.resolve({ok: validarCPFAlgoritmo(cpf)}); }
        function validarCepViaCep(cep) { console.log('üîç Validando CEP:', cep); return Promise.resolve({ok: onlyDigits(cep).length === 8}); }
        function validarPlacaApi(placa) { const placaLimpa = placa.toUpperCase().replace(/[^A-Z0-9]/g,''); const antigo = /^[A-Z]{3}[0-9]{4}$/.test(placaLimpa); const mercosul = /^[A-Z]{3}[0-9][A-Z][0-9]{2}$/.test(placaLimpa); console.log('üîç Validando Placa:', placa, antigo || mercosul); return Promise.resolve({ok: antigo || mercosul}); }
        function validarTelefoneAsync($DDD, $CELULAR) { const dddDig = onlyDigits($DDD.val()).length; const celDig = onlyDigits($CELULAR.val()).length; console.log('üîç Validando Telefone:', dddDig, celDig); return Promise.resolve({ok: dddDig === 2 && celDig === 9}); }
        function aplicarMascaraPlaca($i){ const t={'S':{pattern:/[A-Za-z]/},'0':{pattern:/\d/},'A':{pattern:/[A-Za-z0-9]/}}; $i.on('input',function(){this.value=this.value.toUpperCase();}); $i.mask('SSS-0A00',{translation:t, clearIfNotMatch:false}); }
        const VALIDAR_PH3A = false;
    </script>
    
    <!-- Importa o arquivo JavaScript do modal -->
    <script src="MODAL_WHATSAPP_V2_APRIMORADO.js"></script>
</body>
</html>

